% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% %%%%%%% Here we plot the differences
load('/home/hengl/matlab/bin/scripts/ActQuantAdver/Mozilla_results/AveErrRate.mat')
h1 = figure;
benign_CER = benign_CER(:, 1:9);
benign_CER = benign_CER(1:9 ,:);
imagesc(benign_CER)
colorbar
colormap(hot)
set(gca, 'XTick', 1:10)
set(gca, 'XTickLabel', {'1', '2', '3', '4', '5', '6', '7', '8', '9', '10'}, 'FontSize', 15)
set(gca, 'YTick', 1:10)
set(gca, 'YTickLabel', {'1', '2', '3', '4', '5', '6', '7', '8', '9', '10'}, 'FontSize', 15)
xlabel('BiRNN', 'FontSize', 30)
ylabel('FCN',  'FontSize', 30)
%title('benign')
saveas(h1, 'benign_CER', 'eps2c')

h2 = figure;
genericcarlini_CER = genericcarlini_CER(:, 1:9);
genericcarlini_CER = genericcarlini_CER(1:9 ,:);
imagesc(genericcarlini_CER)
colorbar
colormap(hot)
set(gca, 'XTick', 1:10)
set(gca, 'XTickLabel', {'1', '2', '3', '4', '5', '6', '7', '8', '9', '10'}, 'FontSize', 15)
set(gca, 'YTick', 1:10)
set(gca, 'YTickLabel', {'1', '2', '3', '4', '5', '6', '7', '8', '9', '10'}, 'FontSize', 15)
xlabel('BiRNN', 'FontSize', 30)
ylabel('FCN',  'FontSize', 30)
%title('adversarial')
saveas(h2, 'genericcarlini_CER', 'eps2c')

h3 = figure;
imagesc(genericcarlini_CER - benign_CER)
colorbar
colormap(hot)
set(gca, 'XTick', 1:10)
set(gca, 'XTickLabel', {'1', '2', '3', '4', '5', '6', '7', '8', '9', '10'}, 'FontSize', 15)
set(gca, 'YTick', 1:10)
set(gca, 'YTickLabel', {'1', '2', '3', '4', '5', '6', '7', '8', '9', '10'}, 'FontSize', 15)
xlabel('BiRNN', 'FontSize', 30)
ylabel('FCN',  'FontSize', 30)
%title('adversarial - benign')
saveas(h3, 'difference3', 'eps2c')



% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% %%%%%%% we plot the scatter plot of err rate and confidence scores
% audios = [0.71111111111111103, 0.53846153846153855, 0.86885245901639341, 0.71428571428571419, 0.6785714285714286, 0.62, 0.93103448275862066, 0.44999999999999996, 0.19047619047619047, 0.71428571428571419, 0.73529411764705888, 0.73684210526315796, 0.79411764705882348, 0.5609756097560975, 0.8571428571428571, 0.46153846153846156, 0.95833333333333337, 0.65000000000000002, 0.66666666666666663, 1, 0.82352941176470584, 0.5, 0.78378378378378377, 0.70967741935483875, 0.88, 0.71999999999999997, 0.76086956521739135, 0.58064516129032251, 0.93333333333333335, 0.97297297297297303, 0.93877551020408168, 1, 0.89655172413793105, 0.85999999999999999, 0.72222222222222221, 1, 0.79487179487179482, 0.2321428571428571, 0.97560975609756095, 0.85416666666666663, 0.58333333333333337, 0.66666666666666663, 0.64285714285714279, 0.90000000000000002, 0.82758620689655171, 0.78947368421052633, 0.73809523809523814, 0.76315789473684204, 0.7441860465116279, 0.98245614035087714, 0.40909090909090906, 0.67567567567567566, 0.83720930232558133, 0.037735849056603765, 0.70370370370370372, 0.95652173913043481, 0.75, 0.671875, 0.55405405405405406, 0.82608695652173914, 0.73333333333333339, 0.96721311475409832, 0.64583333333333337, 0.67647058823529416, 0.81967213114754101, 0.86956521739130432, 0.72222222222222221, 0.95238095238095233, 0.6333333333333333, 0.875, 0.80681818181818188, 0.58139534883720922, 0.88235294117647056, 0.8867924528301887, 0.93617021276595747, 0.87804878048780488, 0.66666666666666663, 0.6607142857142857, 0.95789473684210524, 0.95833333333333337, 0.63265306122448983, 0.94117647058823528, 0.8571428571428571, 0.9538461538461539, 0.86842105263157898, 0.89130434782608692, 0.79591836734693877, 0.58139534883720922, 0.89855072463768115, 0.69696969696969702, 0.3666666666666667, 0.19999999999999996, 0.29032258064516125, 0.020408163265306145, 0.066666666666666763, 0.19999999999999996, 0.38775510204081631, 0.16326530612244894, 0.23333333333333328, 0.27586206896551735, 0.26666666666666672, 0.26666666666666672, 0.46666666666666667, 0.19999999999999996, 0.4375, 0.19999999999999996, 0.034482758620689724, 0.30000000000000004, 0.25925925925925919, 0, 0.26666666666666672, 0.061224489795918324, 0.41379310344827591, 0.16666666666666674, 0.2857142857142857, 1, 0.16666666666666674, 0, 0.23333333333333328, 0.16666666666666674, 0.1333333333333333, 0.3125, 0.034482758620689724, 0.26666666666666672, 0.2857142857142857, 0.22448979591836737, 0.2857142857142857, 0.3666666666666667, 0.08163265306122458, 0.23333333333333328, 0.034482758620689724, 0.46666666666666667, 0.2857142857142857, 0.30612244897959184, 0.066666666666666763, 0.2857142857142857, 0.33333333333333326, 0.16666666666666674, 0.3214285714285714, 0.1428571428571429, 0.17241379310344829, 0.23333333333333328, 0.40816326530612246, 0.3125, 0.16666666666666674, 0.34693877551020402, 0.12244897959183676, 0.39583333333333337, 0.040816326530612179, 0.30769230769230771, 0.24489795918367352, 0.43333333333333335, 0.23333333333333328, 0.26666666666666672, 0.27272727272727271, 0.24489795918367352, 0.41379310344827591, 0.099999999999999978, 0.41935483870967749, 0.41666666666666663, 0.5, 0.066666666666666763, 0.1914893617021276, 0.30612244897959184, 0.061224489795918324, 0.2857142857142857, 0.2068965517241379, 0.076923076923076983, 0.099999999999999978, 0.30612244897959184, 0.23333333333333328, 0.083333333333333259, 0.23333333333333328, 0.22222222222222232, 0.16666666666666674, 0.22448979591836737, 0.1333333333333333, 0, 0.32653061224489788, 0.26666666666666672];
% benign = audios(1:90);
% carlini = audios(91:180);
% h = figure;
% hold on
% grid on
% box on
% % plot the confidence levels for benign and adversarial
% plot(0:0.01:1, zeros(101), '--k', 'LineWidth', 0.5)
% for i = 1:90
%     plot(benign(i), 0, 'ko', 'MarkerSize', 8);
% end
% for i = 1:90
%     plot(carlini(i), 0, 'r*', 'MarkerSize', 8);
% end
% xlabel('Converted confidence score and error(tr+val=10%)', 'FontSize', 13)
% text(0, 0.2, 'Adversarial Score', 'FontSize', 15, 'color', 'r')
% text(0.6, 0.2, 'Benign Score', 'FontSize', 15,'color', 'k')
% 
% % plot the error rates for benign and adversarial
% plot(0:0.01:1, ones(101), '--k', 'LineWidth', 0.5)
% for i = 1:90
%     plot(1 - benign(i), 1, 'ko', 'MarkerSize', 8);
% end
% for i = 1:90
%     plot(1 - carlini(i), 1, 'r*', 'MarkerSize', 8);
% end
% text(0, 1.2, 'Benign ErrRate', 'FontSize', 15, 'color', 'r')
% text(0.5, 1.2, 'Adversarial ErrRate', 'FontSize', 15,'color', 'k')
% 
% title('Scatter plot of err and converted confidence on Mozilla')
% ylim([-1 2])
% set(gca, 'YTick', [])
% %saveas(h, 'Mozilla', 'eps2c')